"use strict";(self["webpackChunkdonggurami"]=self["webpackChunkdonggurami"]||[]).push([[899],{1899:function(e,i,t){t.r(i),t.d(i,{default:function(){return Z}});var a=t(6768),s=t(5130);const n={id:"main"},o={class:"main-content"},l={class:"content"};function r(e,i,t,r,d,c){const h=(0,a.g2)("HeadBar"),u=(0,a.g2)("SidebarMenu"),v=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.bF)(h,{ref:"headbar",onToggleSidebar:c.handleSidebarToggle},null,8,["onToggleSidebar"]),(0,a.Lk)("div",o,[(0,a.bF)(s.eB,{name:"slide"},{default:(0,a.k6)(()=>[d.showSidebar?((0,a.uX)(),(0,a.Wv)(u,{key:0,class:"sidebar"})):(0,a.Q3)("",!0)]),_:1}),(0,a.Lk)("div",l,[(0,a.bF)(v)])]),d.showSidebar&&d.windowWidth<=1150?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"sidebar-overlay",onClick:i[0]||(i[0]=(...e)=>c.closeSidebar&&c.closeSidebar(...e))})):(0,a.Q3)("",!0)])}var d=t(4232);const c={class:"sidebar"},h={class:"sidebar-content"},u={class:"profile"},v=["src"],g={class:"profile-info"},k={class:"profile-name"},p={class:"list1"},m={class:"bottom"},L={class:"list2"},w={class:"bottom"},b={class:"footer-container"},S={class:"footer"},f={class:"links"};function C(e,i,t,n,o,l){return(0,a.uX)(),(0,a.CE)("div",c,[(0,a.Lk)("div",h,[(0,a.Lk)("div",u,[(0,a.Lk)("img",{src:o.imageSrc,alt:"Logo",class:"profile-img"},null,8,v),(0,a.Lk)("div",g,[(0,a.Lk)("div",k,[(0,a.Lk)("h2",null,(0,d.v_)(o.data.clubName||"운영팀"),1)]),(0,a.Lk)("p",null,(0,d.v_)(o.department),1)])]),(0,a.Lk)("nav",null,[(0,a.Lk)("ul",null,[(0,a.Lk)("li",p,[(0,a.Lk)("div",{class:"top",onClick:i[0]||(i[0]=e=>l.navigateTo("clublist"))},i[10]||(i[10]=[(0,a.Lk)("i",{class:"icon home"},null,-1),(0,a.Lk)("p",{class:"menu"},"동아리 관리",-1),(0,a.Lk)("div",{class:"yellowLine"},null,-1)])),(0,a.Lk)("div",m,[(0,a.Lk)("a",{onClick:i[1]||(i[1]=(0,s.D$)(e=>l.navigateTo("clubroom"),["prevent"]))},"· 동아리 위치 정보 수정"),(0,a.Lk)("a",{onClick:i[2]||(i[2]=(0,s.D$)(e=>l.navigateTo("category"),["prevent"]))},"· 동아리 카테고리 설정"),(0,a.Lk)("a",{onClick:i[3]||(i[3]=(0,s.D$)(e=>l.navigateTo("AddClub"),["prevent"]))},"· 동아리 생성/관리")])]),(0,a.Lk)("li",L,[(0,a.Lk)("div",{class:"top",onClick:i[4]||(i[4]=e=>l.navigateTo("Notice"))},i[11]||(i[11]=[(0,a.Lk)("i",{class:"icon clipboard"},null,-1),(0,a.Lk)("p",{class:"menu"},"공지사항",-1),(0,a.Lk)("div",{class:"yellowLine"},null,-1)])),(0,a.Lk)("div",w,[(0,a.Lk)("a",{onClick:i[5]||(i[5]=e=>l.navigateTo("Notice"))},"· 공지사항 목록"),(0,a.Lk)("a",{onClick:i[6]||(i[6]=e=>l.navigateTo("noticewrite"))},"· 공지사항 작성")])])])])]),(0,a.Lk)("div",b,[i[13]||(i[13]=(0,a.Lk)("div",{class:"line1"},null,-1)),(0,a.Lk)("div",S,[(0,a.Lk)("div",f,[(0,a.Lk)("a",{onClick:i[7]||(i[7]=(0,s.D$)(e=>l.navigateTo("AdminTermsOfUse"),["prevent"])),class:(0,d.C4)({selected:"AdminTermsOfUse"===o.selectedLink})},"이용약관",2),i[12]||(i[12]=(0,a.Lk)("div",{class:"line2"},null,-1)),(0,a.Lk)("a",{onClick:i[8]||(i[8]=(0,s.D$)(e=>l.navigateTo("privacy_policy_"),["prevent"])),class:(0,d.C4)({selected:"privacy_policy_"===o.selectedLink,"bold-text":!0})},"개인정보 처리방침",2)]),(0,a.Lk)("a",{onClick:i[9]||(i[9]=(0,s.D$)((...e)=>l.logout&&l.logout(...e),["prevent"]))},"로그아웃")])])])}var T=t(5968),y=t(4373),$={name:"SidebarMenu",data(){return{imageSrc:t(7653),data:"",department:"",selectedLink:""}},computed:{shouldUpdateSidebar(){return this.$store.state.shouldUpdateSidebar}},mounted(){this.pageLoadFunction()},watch:{shouldUpdateSidebar(e){e&&(this.pageLoadFunction(),this.$store.commit("SET_SIDEBAR_UPDATE",!1))}},methods:{navigateTo(e){this.selectedLink=e,this.$router.push({name:e}).catch(e=>{if("NavigationDuplicated"!==e.name)throw e})},async logout(){try{const e=this.$store.state.accessToken;await y.A.post(`${T.A.state.apiBaseUrl}/integration/logout`,{},{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),this.$store.dispatch("logout"),this.$router.push({name:"login"})}catch(e){console.error("로그아웃 오류:",e),alert("로그아웃 처리 중 오류가 발생했습니다."),this.$store.dispatch("logout"),this.$router.push({name:"login"})}},async pageLoadFunction(){const e=T.A.state.accessToken,i=T.A.state.clubUUID;if(i)try{const t=await y.A.get(`${T.A.state.apiBaseUrl}/club-leader/${i}/info`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(this.data=t.data.data,this.department=this.data.department,this.data.mainPhotoUrl){const e=await y.A.get(this.data.mainPhotoUrl,{responseType:"blob"});e.data.size>0&&(this.imageSrc=URL.createObjectURL(e.data))}}catch(t){console.error("사이드바 정보 로딩 오류:",t)}}}},A=t(1241);const U=(0,A.A)($,[["render",C],["__scopeId","data-v-482efec6"]]);var _=U,W=t(3096);const z={class:"header"},D={class:"header-content"},E={key:0,xmlns:"http://www.w3.org/2000/svg",height:"40px",viewBox:"0 -960 960 960",width:"40px",fill:"#e3e3e3"},M={key:1,xmlns:"http://www.w3.org/2000/svg",height:"40px",viewBox:"0 -960 960 960",width:"40px",fill:"#e3e3e3"};function x(e,i,t,s,n,o){return(0,a.uX)(),(0,a.CE)("div",z,[(0,a.Lk)("div",D,[(0,a.Lk)("img",{src:W,alt:"Dongurami Logo",class:"logo",onClick:i[0]||(i[0]=e=>o.navigateTo("dashboard")),style:{cursor:"pointer"}}),(0,a.Lk)("h1",{class:"title",onClick:i[1]||(i[1]=e=>o.navigateTo("dashboard")),style:{cursor:"pointer"}},"동구라미")]),(0,a.Lk)("div",{class:"hamburger-menu",onClick:i[2]||(i[2]=(...e)=>o.toggleSidebar&&o.toggleSidebar(...e))},[n.isMenuOpen?((0,a.uX)(),(0,a.CE)("svg",M,i[4]||(i[4]=[(0,a.Lk)("path",{d:"M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"},null,-1)]))):((0,a.uX)(),(0,a.CE)("svg",E,i[3]||(i[3]=[(0,a.Lk)("path",{d:"M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"},null,-1)])))])])}var B={name:"Headbar",data(){return{isMenuOpen:!1}},methods:{navigateTo(e){this.$router.push({name:e})},toggleSidebar(){this.isMenuOpen=!this.isMenuOpen,this.$emit("toggle-sidebar",this.isMenuOpen)}}};const H=(0,A.A)(B,[["render",x],["__scopeId","data-v-24f58723"]]);var O=H;const R=1300;var X={name:"Main",components:{SidebarMenu:_,HeadBar:O},data(){return{showSidebar:window.innerWidth>=R,windowWidth:window.innerWidth}},mounted(){this.handleResize(),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},methods:{checkWindowSize(){const e=this.windowWidth;this.windowWidth=window.innerWidth,this.windowWidth<=1150?this.showSidebar=!1:e<R&&this.windowWidth>=R&&(this.showSidebar=!0)},handleResize(){this.checkWindowSize()},handleSidebarToggle(){this.showSidebar=!this.showSidebar},closeSidebar(){this.showSidebar=!1}}};const F=(0,A.A)(X,[["render",r]]);var Z=F},3096:function(e,i,t){e.exports=t.p+"img/dongurami_logo.842636f0.png"}}]);
//# sourceMappingURL=899.333f1974.js.map