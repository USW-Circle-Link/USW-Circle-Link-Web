"use strict";(self["webpackChunkdonggurami"]=self["webpackChunkdonggurami"]||[]).push([[196],{4031:function(e,t,s){s.d(t,{V:function(){return o},g:function(){return n}});const o=[{id:"humanities",name:"ì¸ë¬¸ì‚¬íšŒìœµí•©ëŒ€í•™"},{id:"business",name:"ê²½ì˜ê³µí•™ëŒ€í•™"},{id:"innovation",name:"í˜ì‹ ê³µê³¼ëŒ€í•™"},{id:"sw",name:"ì§€ëŠ¥í˜•SWìœµí•©ëŒ€í•™"},{id:"lifecare",name:"ë¼ì´í”„ì¼€ì–´ì‚¬ì´ì–¸ìŠ¤ëŒ€í•™"},{id:"design",name:"ë””ìì¸ì•¤ì•„íŠ¸ëŒ€í•™"},{id:"music",name:"ìŒì•…í…Œí¬ë†€ë¡œì§€ëŒ€í•™"},{id:"culture",name:"ë¬¸í™”ì˜ˆìˆ ìœµí•©ëŒ€í•™"},{id:"global",name:"ê¸€ë¡œë²Œì¸ì¬ëŒ€í•™"}],n={humanities:["ì¸ë¬¸ì‚¬íšŒìœµí•©ëŒ€í•™","ì¸ë¬¸í•™ë¶€","êµ­ì–´êµ­ë¬¸í•™ê³¼","ì‚¬í•™ê³¼","ì™¸êµ­ì–´í•™ë¶€","ì˜ì–´ì˜ë¬¸í•™ê³¼","í”„ë‘ìŠ¤ì–´ë¬¸í•™ê³¼","ëŸ¬ì‹œì•„ì–´ë¬¸í•™ê³¼","ì¼ì–´ì¼ë¬¸í•™ê³¼","ì¤‘ì–´ì¤‘ë¬¸í•™ê³¼","ë²•í–‰ì •í•™ë¶€","ë²•í•™ê³¼","í–‰ì •í•™ê³¼","ë¯¸ë””ì–´ì»¤ë®¤ë‹ˆì¼€ì´ì…˜í•™ê³¼","í–‰ì •í•™ê³¼","ì†Œë°©í–‰ì •í•™ê³¼"],business:["ê²½ì˜í•™ë¶€","ê²½ì˜í•™ê³¼","ê¸€ë¡œë²Œë¹„ì¦ˆë‹ˆìŠ¤í•™ê³¼","íšŒê³„í•™ê³¼","ê²½ì œí•™ë¶€","ê²½ì œê¸ˆìœµí•™ê³¼","êµ­ì œê°œë°œí˜‘ë ¥í•™ê³¼","í˜¸í…”ê´€ê´‘í•™ë¶€","í˜¸í…”ê²½ì˜í•™ê³¼","ì™¸ì‹ê²½ì˜í•™ê³¼","ê´€ê´‘ê²½ì˜í•™ê³¼"],innovation:["ë°”ì´ì˜¤í™”í•™ì‚°ì—…í•™ë¶€","ë°”ì´ì˜¤ê³µí•™ë°ë§ˆì¼€íŒ…í•™ê³¼","ìœµí•©í™”í•™ì‚°ì—…í•™ê³¼","ê±´ì„¤í™˜ê²½ì—ë„ˆì§€ê³µí•™ë¶€","ê±´ì„¤í™˜ê²½ê³µí•™ê³¼","í™˜ê²½ì—ë„ˆì§€ê³µí•™ê³¼","ê±´ì¶•ë„ì‹œë¶€ë™ì‚°í•™ë¶€","ê±´ì¶•í•™ê³¼","ë„ì‹œë¶€ë™ì‚°í•™ê³¼","ì‚°ì—…ë°ê¸°ê³„ê³µí•™ë¶€","ì‚°ì—…ê³µí•™ê³¼","ê¸°ê³„ê³µí•™ê³¼","ë°˜ë„ì²´ê³µí•™ê³¼","ì „ê¸°ì „ìê³µí•™ë¶€","ì „ê¸°ê³µí•™ê³¼","ì „ìê³µí•™ê³¼","í™”í•™ê³µí•™ì‹ ì†Œì¬ê³µí•™ë¶€","ì‹ ì†Œì¬ê³µí•™ê³¼","í™”í•™ê³µí•™ê³¼"],sw:["ì»´í“¨í„°í•™ë¶€","ì»´í“¨í„°SWí•™ê³¼","ë¯¸ë””ì–´SWí•™ê³¼","ì •ë³´í†µì‹ í•™ë¶€","ì •ë³´í†µì‹ í•™ê³¼","ì •ë³´ë³´í˜¸í•™ê³¼","ë°ì´í„°ê³¼í•™ë¶€"],lifecare:["ê°„í˜¸í•™ê³¼","ì•„ë™ê°€ì¡±ë³µì§€í•™ê³¼","ì˜ë¥˜í•™ê³¼","ì‹í’ˆì˜ì–‘í•™ê³¼","ìŠ¤í¬ì¸ ê³¼í•™ë¶€","ì²´ìœ¡í•™ê³¼","ë ˆì €ìŠ¤í¬ì¸ í•™ê³¼","ìš´ë™ê±´ê°•ê´€ë¦¬í•™ê³¼"],design:["ì¡°í˜•ì˜ˆìˆ í•™ë¶€","íšŒí™”ê³¼","ì¡°ì†Œê³¼","ë””ìì¸í•™ë¶€","ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ë””ìì¸ê³¼","íŒ¨ì…˜ë””ìì¸ê³¼","ê³µì˜ˆë””ìì¸ê³¼"],music:["ì•„íŠ¸ì•¤í…Œí¬ë†€ë¡œì§€ì‘ê³¡ê³¼","ì„±ì•…ê³¼","í”¼ì•„ë…¸ê³¼","ê´€í˜„ì•…ê³¼","êµ­ì•…ê³¼"],culture:["ì•„íŠ¸ì•¤ì—”í„°í…Œì¸ë¨¼íŠ¸í•™ë¶€","ì˜í™”ìˆ ê³¼","ì—°ê¸°ì˜ˆìˆ ê³¼","ë””ì§€í„¸ì½˜í…ì¸ ê³¼"],global:["ììœ ì „ê³µí•™ë¶€"]}},9196:function(e,t,s){s.r(t),s.d(t,{default:function(){return re}});var o=s(6768),n=s(4232),i=s(5130);const r={class:"sections-container"},a={class:"section member-requests"},d={class:"request-count"},l={class:"request-list"},c=["onClick"],u={class:"member-info"},p={class:"name1"},m={class:"student-id"},h={class:"department"},b={class:"phone1"},g=["onClick"],M={class:"section added-members"},v={class:"member-count"},C={class:"added-member-list"},k={key:0,class:"member-item-wrapper"},f={class:"member-row"},I=["onClick"],P={class:"member-info"},A={class:"name1"},E={class:"student-id"},w={class:"department"},y={class:"phone1"},U={class:"action-buttons"},L=["onClick"],D={key:1,class:"member-item-wrapper"},j={class:"member-row"},q={class:"edit-form"},R={class:"edit-inputs"},B=["value"],x=["value"],T={class:"action-buttons"},X=["onClick"],$={key:0,class:"error-messages"},S={class:"accept-section"},N=["disabled"];function _(e,t,s,_,Q,H){const W=(0,o.g2)("Popup"),J=(0,o.g2)("Popup401");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",r,[(0,o.Lk)("div",a,[t[7]||(t[7]=(0,o.Lk)("h2",null,"ë¹„íšŒì› ê°€ì… ìš”ì²­ ëª©ë¡",-1)),(0,o.Lk)("p",d,"ìš”ì²­ ì¸ì›: "+(0,n.v_)(Q.requestedMembers.length)+"ëª…",1),t[8]||(t[8]=(0,o.Lk)("p",{class:"instruction"},"ê°ê°ì˜ ëª©ë¡ì—ì„œ ì˜¬ë°”ë¥¸ íšŒì›ì„ ì„ íƒí•´ì£¼ì„¸ìš”.",-1)),(0,o.Lk)("div",l,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Q.requestedMembers,(e,t)=>((0,o.uX)(),(0,o.CE)("div",{class:"request-item-container",key:e.studentId},[(0,o.Lk)("div",{class:(0,n.C4)(["request-item",{selected:Q.selectedRequestedMembers.includes(t),rejected:e.rejected}]),onClick:e=>H.toggleRequestedMember(t)},[(0,o.Lk)("div",u,[(0,o.Lk)("span",p,(0,n.v_)(e.name),1),(0,o.Lk)("span",m,(0,n.v_)(e.studentId),1),(0,o.Lk)("span",h,(0,n.v_)(e.department),1),(0,o.Lk)("span",b,(0,n.v_)(e.phone),1)])],10,c),(0,o.Lk)("button",{class:"action-button reject-button",onClick:(0,i.D$)(e=>H.rejectMember(t),["stop"])},"ê±°ì ˆ",8,g)]))),128))])]),(0,o.Lk)("div",M,[t[11]||(t[11]=(0,o.Lk)("h2",null,"ë¹„íšŒì› ì •ë³´",-1)),(0,o.Lk)("p",v,"ë¹„íšŒì›: "+(0,n.v_)(Q.addedMembers.length)+" ëª…",1),(0,o.Lk)("div",C,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Q.addedMembers,(e,s)=>((0,o.uX)(),(0,o.CE)("div",{class:"added-member-container",key:s},[Q.editingIndex!==s?((0,o.uX)(),(0,o.CE)("div",k,[(0,o.Lk)("div",f,[(0,o.Lk)("div",{class:(0,n.C4)(["added-member-item",{selected:Q.selectedAddedMembers.includes(s)}]),onClick:e=>H.toggleAddedMember(s)},[(0,o.Lk)("div",P,[(0,o.Lk)("span",A,(0,n.v_)(e.name),1),(0,o.Lk)("span",E,(0,n.v_)(e.studentId),1),(0,o.Lk)("span",w,(0,n.v_)(e.department),1),(0,o.Lk)("span",y,(0,n.v_)(e.phone),1)])],10,I),(0,o.Lk)("div",U,[(0,o.Lk)("button",{class:"action-button edit-button",onClick:(0,i.D$)(e=>H.editMember(s),["stop"])},"ìˆ˜ì •",8,L)])])])):((0,o.uX)(),(0,o.CE)("div",D,[(0,o.Lk)("div",j,[(0,o.Lk)("div",q,[(0,o.Lk)("div",R,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>Q.editingMember.name=e),class:"edit-input name-input",placeholder:"ì´ë¦„"},null,512),[[i.Jo,Q.editingMember.name]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>Q.editingMember.studentId=e),class:"edit-input id-input",placeholder:"í•™ë²ˆ"},null,512),[[i.Jo,Q.editingMember.studentId]]),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>Q.editingMember.college=e),class:"edit-input college-select",onChange:t[3]||(t[3]=(...e)=>H.onCollegeChange&&H.onCollegeChange(...e))},[t[9]||(t[9]=(0,o.Lk)("option",{value:""},"ë‹¨ê³¼ëŒ€í•™ ì„ íƒ",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Q.colleges,e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id,value:e.name},(0,n.v_)(e.name),9,B))),128))],544),[[i.u1,Q.editingMember.college]]),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>Q.editingMember.department=e),class:"edit-input department-select"},[t[10]||(t[10]=(0,o.Lk)("option",{value:""},"í•™ê³¼ ì„ íƒ",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(H.availableDepartments,e=>((0,o.uX)(),(0,o.CE)("option",{key:e,value:e},(0,n.v_)(e),9,x))),128))],512),[[i.u1,Q.editingMember.department]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>Q.editingMember.phone=e),class:"edit-input phone-input",placeholder:"ì „í™”ë²ˆí˜¸"},null,512),[[i.Jo,Q.editingMember.phone]])])]),(0,o.Lk)("div",T,[(0,o.Lk)("button",{class:"action-button save-button",onClick:e=>H.saveEdit(s)},"ì €ì¥",8,X)])]),Q.errorMessagesByIndex[s]&&Q.errorMessagesByIndex[s].length>0?((0,o.uX)(),(0,o.CE)("div",$,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Q.errorMessagesByIndex[s],(e,t)=>((0,o.uX)(),(0,o.CE)("p",{key:t,class:"error-message"},(0,n.v_)(e),1))),128))])):(0,o.Q3)("",!0)]))]))),128))]),(0,o.Lk)("div",S,[(0,o.Lk)("button",{class:(0,n.C4)(["accept-button",{active:Q.selectedRequestedMembers.length>0&&Q.selectedAddedMembers.length>0}]),disabled:0===Q.selectedRequestedMembers.length||0===Q.selectedAddedMembers.length,onClick:t[6]||(t[6]=e=>Q.selectedRequestedMembers.length>0&&Q.selectedAddedMembers.length>0?Q.showAcceptPopup=!0:null)}," ìˆ˜ë½ ",10,N)])])]),Q.showEditPopup?((0,o.uX)(),(0,o.Wv)(W,{key:0,visible:Q.showEditPopup,title:"ë™ì•„ë¦¬ íšŒì› ìˆ˜ì •",message:"í•´ë‹¹ ë™ì•„ë¦¬ íšŒì›ì„ ìˆ˜ì •í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",onCancel:H.cancelEditPopup,onConfirm:H.confirmEditPopup},null,8,["visible","onCancel","onConfirm"])):(0,o.Q3)("",!0),Q.showAcceptPopup?((0,o.uX)(),(0,o.Wv)(W,{key:1,visible:Q.showAcceptPopup,title:"ë™ì•„ë¦¬ íšŒì› ê°€ì… ìš”ì²­",message:"í•´ë‹¹ ë™ì•„ë¦¬ íšŒì›ì˜ ê°€ì… ìš”ì²­ì„ ìˆ˜ë½í•˜ì‹œê² ìŠµë‹ˆê¹Œ?","sub-message":"ë‹¤ì‹œ ë˜ëŒë¦´ ìˆ˜ ì—†ìœ¼ë‹ˆ ì‹ ì¤‘í•˜ê²Œ ì„ íƒí•´ì£¼ì„¸ìš”.",onCancel:H.cancelAccept,onConfirm:H.confirmAccept},null,8,["visible","onCancel","onConfirm"])):(0,o.Q3)("",!0),Q.showRejectionPopup?((0,o.uX)(),(0,o.Wv)(W,{key:2,visible:Q.showRejectionPopup,title:"ë™ì•„ë¦¬ íšŒì› ê°€ì… ìš”ì²­",message:"í•´ë‹¹ ë™ì•„ë¦¬ íšŒì› ê°€ì… ìš”ì²­ì„ ê±°ì ˆí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",subMessage:"ë‹¤ì‹œ ë˜ëŒë¦´ ìˆ˜ ì—†ìœ¼ë‹ˆ ì‹ ì¤‘í•˜ê²Œ ì„ íƒí•´ì£¼ì„¸ìš”.",onCancel:H.cancelRejection,onConfirm:H.confirmRejection},null,8,["visible","onCancel","onConfirm"])):(0,o.Q3)("",!0),Q.showConfirmationPopup?((0,o.uX)(),(0,o.Wv)(W,{key:3,visible:Q.showConfirmationPopup,title:"ë™ì•„ë¦¬ íšŒì› ê°€ì… ìš”ì²­",message:"íšŒì› ê°€ì… ìš”ì²­ì´ ì •ìƒì ìœ¼ë¡œ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.",hideCancelButton:!0,onConfirm:H.closeConfirmationPopup},null,8,["visible","onConfirm"])):(0,o.Q3)("",!0),Q.showErrorPopup?((0,o.uX)(),(0,o.Wv)(W,{key:4,visible:Q.showErrorPopup,title:"ë™ì•„ë¦¬ íšŒì› ê°€ì… ìš”ì²­",message:"í•´ë‹¹ ë™ì•„ë¦¬ íšŒì›ì˜ ì •ë³´ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.",subMessage:`${Q.errorData}`,message2:"ì„(ë¥¼) ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.",hideCancelButton:!0,onConfirm:H.closeErrorPopup},null,8,["visible","subMessage","onConfirm"])):(0,o.Q3)("",!0),Q.show404ErrorPopup?((0,o.uX)(),(0,o.Wv)(W,{key:5,visible:Q.show404ErrorPopup,title:"ë™ì•„ë¦¬ íšŒì› ê°€ì… ìš”ì²­",message:"í•´ë‹¹ ë™ì•„ë¦¬ íšŒì›ì€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ì‹œ í•œ ë²ˆ í™•ì¸í•´ì£¼ì„¸ìš”.",hideCancelButton:!0,onConfirm:H.close404ErrorPopup},null,8,["visible","onConfirm"])):(0,o.Q3)("",!0),Q.realCompletePopup?((0,o.uX)(),(0,o.Wv)(W,{key:6,visible:Q.realCompletePopup,title:"ë™ì•„ë¦¬ íšŒì› ê°€ì… ìš”ì²­",message:"íšŒì› ê°€ì… ìš”ì²­ì´ ì •ìƒì ìœ¼ë¡œ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.",message2:`${Q.completedMemberName} ë™ì•„ë¦¬ íšŒì›ì—ê²Œ íšŒì› ê°€ì… ì™„ë£Œ ì†Œì‹ì„ ì „ë‹¬í•´ì£¼ì„¸ìš”.`,hideCancelButton:!0,onConfirm:H.closerealCompletePopup},null,8,["visible","message2","onConfirm"])):(0,o.Q3)("",!0),Q.show401Popup?((0,o.uX)(),(0,o.Wv)(J,{key:7})):(0,o.Q3)("",!0)])}var Q=s(4031);const H={key:0,class:"popup-overlay"},W={class:"popup"},J={class:"popup-title"},V=["innerHTML"],O=["innerHTML"],z=["innerHTML"],F={class:"popup-buttons"};function K(e,t,s,i,r,a){return s.visible?((0,o.uX)(),(0,o.CE)("div",H,[(0,o.Lk)("div",W,[(0,o.Lk)("h3",J,(0,n.v_)(s.title),1),t[2]||(t[2]=(0,o.Lk)("div",{class:"popup-divider"},null,-1)),(0,o.Lk)("p",{class:"popup-message",innerHTML:s.message},null,8,V),s.subMessage?((0,o.uX)(),(0,o.CE)("p",{key:0,class:"popup-sub-message",innerHTML:s.subMessage},null,8,O)):(0,o.Q3)("",!0),s.message2?((0,o.uX)(),(0,o.CE)("p",{key:1,class:"popup-message2",innerHTML:s.message2},null,8,z)):(0,o.Q3)("",!0),(0,o.Lk)("div",F,[s.hideCancelButton?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>a.onCancel&&a.onCancel(...e)),class:"cancel-button1"},"ì·¨ì†Œ")),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>a.onConfirm&&a.onConfirm(...e)),class:"confirm-button1"},"í™•ì¸")])])])):(0,o.Q3)("",!0)}var Z={props:{visible:{type:Boolean,default:!1},title:{type:String,required:!0},message:{type:String,required:!0},subMessage:{type:String,default:""},message2:{type:String,required:!0},hideCancelButton:{type:Boolean,default:!1}},methods:{onCancel(){this.$emit("cancel")},onConfirm(){this.$emit("confirm")}}},G=s(1241);const Y=(0,G.A)(Z,[["render",K],["__scopeId","data-v-1c760e36"]]);var ee=Y,te=s(4373),se=s(5968),oe=s(1720),ne={components:{Popup:ee,Popup401:oe.A},data(){return{addedMembers:[],requestedMembers:[],showEditPopup:!1,editingIndex:-1,editingMember:null,tempEditingMember:null,colleges:Q.V,selectedRequestedMembers:[],showAcceptPopup:!1,showConfirmationPopup:!1,showErrorPopup:!1,show404ErrorPopup:!1,showRejectionPopup:!1,realCompletePopup:!1,membersToReject:[],errorMessages:[],selectedAddedMembers:[],errorMessagesByIndex:{},errorData:"",completedMemberName:"",show401Popup:!1}},computed:{availableDepartments(){if(!this.editingMember?.college)return[];const e=this.colleges.find(e=>e.name===this.editingMember.college)?.id;return e?Q.g[e]:[]}},async created(){await this.fetchData()},methods:{handle401Error(e){return!(!e.response||401!==e.response.status)&&(this.show401Popup=!0,!0)},async fetchData(){console.log("ğŸ” Vuex ìƒíƒœ í™•ì¸:",se.A.state),console.log("ğŸ” Access Token:",se.A.state.accessToken),console.log("ğŸ” clubUUID:",se.A.state.clubUUID),console.log("ğŸ” clubMemberUUID:",se.A.state.clubMemberUUID),console.log("ğŸ” clubMemberAccountStatusUUID:",se.A.state.clubMemberAccountStatusUUID);const e=se.A.state.accessToken,t=(se.A.state.clubMemberUUID,se.A.state.clubMemberAccountStatusUUID,se.A.state.clubUUID);try{if(!e||!t)return console.error("Access token or clubMemberAccountStatusUUID is missing"),void alert("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.");const s=await te.A.get(`${se.A.state.apiBaseUrl}/club-leader/${t}/members/sign-up`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(console.log("Request Response:",s.data),!s.data||!s.data.data)throw new Error("ê°€ì… ìš”ì²­ ëª©ë¡ ì‘ë‹µì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.");if(this.requestedMembers=s.data.data.map(e=>({clubMemberAccountStatusUUID:e.clubMemberAccountStatusUUID,name:e.profileTempName,studentId:e.profileTempStudentNumber,department:e.profileTempMajor,phone:e.profileTempHp,rejected:!1})),!t)return void console.warn("clubMemberUUIDê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë¹„íšŒì› ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ì§€ ì•ŠìŠµë‹ˆë‹¤.");const o=await te.A.get(`${se.A.state.apiBaseUrl}/club-leader/${t}/members?sort=non-member`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(console.log("Members Response:",o.data),!o.data||!o.data.data)throw new Error("ë¹„íšŒì› ëª©ë¡ ì‘ë‹µì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.");this.addedMembers=o.data.data.map(e=>({clubMemberUUID:e.clubMemberUUID,name:e.userName,studentId:e.studentNumber,department:e.major,phone:e.userHp,college:this.findCollegeByDepartment(e.major)}))}catch(s){this.handle401Error(s)||(console.error("ë™ì•„ë¦¬ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",s),alert("ë™ì•„ë¦¬ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."))}},findCollegeByDepartment(e){for(const t of Q.V)if(Q.g[t.id].includes(e))return t.name;return""},async updateMemberInfo(e,t){const s=se.A.state.accessToken,o=se.A.state.clubUUID;try{const n=await te.A.patch(`${se.A.state.apiBaseUrl}/club-leader/${o}/members/${e}/non-member`,{userName:t.name,studentNumber:t.studentId,userHp:t.phone.replace(/\D/g,""),major:t.department},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});return 200===n.status}catch(n){this.handle401Error(n)||(console.error("ë™ì•„ë¦¬ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",n),alert("ë™ì•„ë¦¬ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."))}},async confirmEditPopup(){if(this.tempEditingMember)try{const e=this.addedMembers[this.editingIndex].clubMemberUUID,t=this.tempEditingMember.phone.replace(/\D/g,""),s=await this.updateMemberInfo(e,{...this.tempEditingMember,phone:t});s&&(this.addedMembers[this.editingIndex]={...this.tempEditingMember,phone:t},this.resetEditing(),this.showEditPopup=!1,this.$emit("show-toast","íšŒì› ì •ë³´ê°€ ì„±ê³µì ìœ¼ë¡œ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤."))}catch(e){this.errorMessagesByIndex[this.editingIndex]=["íšŒì› ì •ë³´ ìˆ˜ì • ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."],console.error("Error updating member:",e)}else console.error("No editing member data available")},onCollegeChange(){this.editingMember&&(this.editingMember.department="")},saveData(){localStorage.setItem("requestedMembers",JSON.stringify(this.requestedMembers)),localStorage.setItem("addedMembers",JSON.stringify(this.addedMembers))},toggleRequestedMember(e){this.selectedRequestedMembers.includes(e)?this.selectedRequestedMembers=[]:this.selectedRequestedMembers=[e]},toggleAddedMember(e){const t=this.selectedAddedMembers.indexOf(e);t>-1?this.selectedAddedMembers.splice(t,1):this.selectedAddedMembers=[e]},rejectMember(e){this.requestedMembers[e].rejected=!0,this.membersToReject=[e],this.showRejectionPopup=!0,this.saveData()},cancelRejection(){this.membersToReject.forEach(e=>{this.requestedMembers[e].rejected=!1}),this.membersToReject=[],this.showRejectionPopup=!1,this.saveData()},async confirmRejection(){const e=se.A.state.accessToken,t=se.A.state.clubUUID;try{for(const s of this.membersToReject){const o=this.requestedMembers[s].clubMemberAccountStatusUUID;await te.A.delete(`${se.A.state.apiBaseUrl}/club-leader/${t}/members/sign-up/${o}`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),this.requestedMembers.splice(s,1)}this.membersToReject=[],this.showRejectionPopup=!1,this.saveData()}catch(s){this.handle401Error(s)||(console.error("ë™ì•„ë¦¬ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",s),alert("ë™ì•„ë¦¬ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."))}},cancelAccept(){this.showAcceptPopup=!1},async confirmAccept(){const e=se.A.state.accessToken,t=se.A.state.clubUUID;if(!t)return console.error("clubUUIDê°€ ì—†ìŠµë‹ˆë‹¤."),void alert("í´ëŸ½ ì •ë³´ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•˜ê±°ë‚˜ ìƒˆë¡œê³ ì¹¨í•´ ì£¼ì„¸ìš”.");try{const s=this.selectedRequestedMembers[0],o=this.selectedAddedMembers[0],n={...this.requestedMembers[s]},i={...this.addedMembers[o]};console.log("ì„ íƒí•œ íšŒì› ì •ë³´ ì—…ë°ì´íŠ¸ í™•ì¸:",n,i);const r={signUpProfileRequest:{uuid:n.clubMemberAccountStatusUUID,userName:n.name,studentNumber:n.studentId,major:n.department,userHp:n.phone.replace(/-/g,"")},clubNonMemberProfileRequest:{uuid:i.clubMemberUUID,userName:i.name,studentNumber:i.studentId,major:i.department,userHp:i.phone.replace(/-/g,"")}};console.log("API ìš”ì²­ ë°”ë””:",JSON.stringify(r,null,2));const a=await te.A.post(`${se.A.state.apiBaseUrl}/club-leader/${t}/members/sign-up`,r,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});console.log("ê°€ì… ìš”ì²­ ì„±ê³µ:",a.data),"ê¸°ì¡´ ë™ì•„ë¦¬ íšŒì› ê°€ì… ìš”ì²­ ìˆ˜ë½ ì™„ë£Œ"===a.data.message?this.showConfirmationPopup=!0:"ê¸°ì¡´ ë™ì•„ë¦¬ íšŒì› ê°€ì… ìš”ì²­ ìˆ˜ë½ í›„ ê³„ì • ìƒì„± ì™„ë£Œ"===a.data.message&&(this.completedMemberName=a.data.data,this.realCompletePopup=!0),this.requestedMembers.splice(s,1),this.addedMembers.splice(o,1),this.selectedRequestedMembers=[],this.selectedAddedMembers=[]}catch(s){s.response?(console.error("API ìš”ì²­ ì‹¤íŒ¨:",s.response.data),401===s.response.status?this.show401Popup=!0:404===s.response.status?this.show404ErrorPopup=!0:"PFL-209"===s.response.data.code?(this.errorData=s.response.data.additionalData.join(", "),this.showErrorPopup=!0):(this.errorData="ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",this.showErrorPopup=!0)):(this.errorData="ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",this.showErrorPopup=!0)}this.showAcceptPopup=!1,this.saveData()},closeConfirmationPopup(){this.resetPopups(),this.showConfirmationPopup=!1},closeErrorPopup(){this.resetPopups(),this.showErrorPopup=!1,this.errorData=""},close404ErrorPopup(){this.resetPopups(),this.show404ErrorPopup=!1},closerealCompletePopup(){this.resetPopups(),this.realCompletePopup=!1,this.completedMemberName=""},resetPopups(){this.showAcceptPopup=!1,this.showConfirmationPopup=!1,this.showErrorPopup=!1,this.show404ErrorPopup=!1,this.realCompletePopup=!1,this.errorData="",this.completedMemberName=""},editMember(e){this.editingIndex=e,this.editingMember=JSON.parse(JSON.stringify(this.addedMembers[e])),this.tempEditingMember=JSON.parse(JSON.stringify(this.addedMembers[e])),this.errorMessagesByIndex={}},saveEdit(e){this.validateInput()&&(this.tempEditingMember={...this.editingMember},this.showEditPopup=!0)},validateInput(){this.errorMessagesByIndex[this.editingIndex]=[];let e=!0;this.editingMember.name&&/^[ê°€-í£a-zA-Z]+$/.test(this.editingMember.name)||(this.errorMessagesByIndex[this.editingIndex].push("* ì´ë¦„(íŠ¹ìˆ˜ ê¸°í˜¸ ì œì™¸ ë¬¸ì)ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."),e=!1),this.editingMember.studentId&&/^\d{8}$/.test(this.editingMember.studentId)||(this.errorMessagesByIndex[this.editingIndex].push("* í•™ë²ˆ(8ìë¦¬ ìˆ«ì)ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."),e=!1),this.editingMember.college||(this.errorMessagesByIndex[this.editingIndex].push("* ë‹¨ê³¼ëŒ€ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”."),e=!1),this.editingMember.department||(this.errorMessagesByIndex[this.editingIndex].push("* í•™ê³¼ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”."),e=!1);const t=this.editingMember.phone.replace(/\D/g,"");return t&&11===t.length?this.editingMember.phone=t:(this.errorMessagesByIndex[this.editingIndex].push("* ì „í™”ë²ˆí˜¸(11ìë¦¬ ìˆ«ì)ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”."),e=!1),e},cancelEditPopup(){this.resetEditing(),this.showEditPopup=!1},resetEditing(){this.editingIndex=-1,this.editingMember=null,this.tempEditingMember=null,this.errorMessages=[]}}};const ie=(0,G.A)(ne,[["render",_],["__scopeId","data-v-7694877e"]]);var re=ie}}]);
//# sourceMappingURL=196.79603840.js.map