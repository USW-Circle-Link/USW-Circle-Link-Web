{"version":3,"file":"js/253.205b2108.js","mappings":"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","sources":["webpack://donggurami/./src/components/Admin/NoticeWrite.vue","webpack://donggurami/./src/components/Admin/NoticeWrite.vue?6bf9"],"sourcesContent":["<template>\r\n  <div class=\"notice-write-container\">\r\n    <h2 class=\"title\">ê³µì§€ì‚¬í•­ ì‘ì„±</h2>\r\n\r\n    <div v-if=\"notice\">\r\n      <div class=\"title-container\">\r\n        <label for=\"title-input\" class=\"label\">ì œëª©</label>\r\n        <input id=\"title-input\" v-model=\"notice.noticeTitle\" class=\"title-input\" placeholder=\"ì œëª©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”. (200ì ì´ë‚´)\" />\r\n      </div>\r\n\r\n      <div class=\"content-container\">\r\n        <!-- <label for=\"content-input\" class=\"label\">ë‚´ìš©</label> -->\r\n        <div class=\"textarea-wrapper\">\r\n          <textarea\r\n              id=\"content-input\"\r\n              v-model=\"notice.noticeContent\"\r\n              class=\"content-input\"\r\n              placeholder=\"ë‚´ìš©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”. ì‚¬ì§„ì€ 5ì¥ê¹Œì§€ ì²¨ë¶€ ê°€ëŠ¥í•©ë‹ˆë‹¤.\"\r\n              @input=\"limitContentLength\"\r\n          ></textarea>\r\n          <div class=\"character-count\">{{ notice.noticeContent.length }} / 3000</div> <!-- ê¸€ì ìˆ˜ í‘œì‹œ -->\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"image-upload-container\">\r\n        <div v-for=\"(image, index) in images\" :key=\"index\" class=\"image-preview\">\r\n          <img :src=\"image.src\" alt=\"Uploaded Image\" class=\"uploaded-image\" />\r\n          <div class=\"edit-icon\" @click=\"editImage(index)\">\r\n            <img src=\"@/assets/penbrush.png\" alt=\"Edit Icon\" />\r\n          </div>\r\n          <div class=\"delete-icon\" @click=\"deleteImage(index)\">\r\n            &times;\r\n          </div>\r\n          <input type=\"file\" :ref=\"'fileInput' + index\" @change=\"onImageChange(index, $event)\" style=\"display: none;\" />\r\n\r\n        </div>\r\n        <div v-if=\"images.length < 5\" class=\"image-upload\">\r\n          <input type=\"file\" @change=\"onImageUpload\" />\r\n          <div class=\"plus\" @click=\"$event.target.previousElementSibling.click()\">+</div>\r\n        </div>\r\n      </div>\r\n      <button class=\"submit-button\" @click=\"submitNotice\" :disabled=\"isLoading\"> ì™„ë£Œ</button>\r\n    </div>\r\n  </div>\r\n  <Popup401 v-if=\"show401Popup\" />\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport store from '@/store/store';\r\nimport Popup401 from \"@/components/Admin/401Popup.vue\";\r\n\r\nexport default {\r\n  name: 'NoticeWrite',\r\n  components: {Popup401},\r\n  props: ['noticeUUID'],\r\n  data() {\r\n    return {\r\n      notice: { noticeTitle: '', noticeContent: '' },\r\n      images: [], // ì´ë¯¸ì§€ íŒŒì¼ ë° ë¯¸ë¦¬ë³´ê¸° ì €ì¥\r\n      show401Popup: false  // 401 íŒì—…\r\n    };\r\n  },\r\n  methods: {\r\n    // ì´ë¯¸ì§€ ì‚­ì œ ê¸°ëŠ¥ ì¶”ê°€\r\n    deleteImage(index) {\r\n    this.images.splice(index, 1);\r\n    this.$refs[`fileInput${index}`] = null; // ğŸ”¹ íŒŒì¼ ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”\r\n  },\r\n    // 401 ì—ëŸ¬ ì²˜ë¦¬ë¥¼ ìœ„í•œ ê³µí†µ í•¨ìˆ˜\r\n    handle401Error(error) {\r\n      if (error.response && error.response.status === 401) {\r\n        this.show401Popup = true;\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    // ì´ë¯¸ì§€ ì—…ë¡œë“œ\r\n    onImageUpload(event) {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      const validExtensions = ['png', 'jpg', 'jpeg'];\r\n      const fileExtension = file.name.split('.').pop().toLowerCase();\r\n      const maxFileSize = 10 * 1024 * 1024;\r\n\r\n      if (validExtensions.includes(fileExtension) && file.size <= maxFileSize) {\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          this.images.push({ src: e.target.result, file });\r\n\r\n          // ğŸ”¹ íŒŒì¼ ì…ë ¥ í•„ë“œ ì´ˆê¸°í™” (ê°™ì€ íŒŒì¼ ë‹¤ì‹œ ì—…ë¡œë“œ ê°€ëŠ¥)\r\n          event.target.value = \"\";\r\n        };\r\n        reader.readAsDataURL(file);\r\n      } else {\r\n        alert('íŒŒì¼ í˜•ì‹ì´ ë§ì§€ ì•Šê±°ë‚˜ í¬ê¸°ê°€ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤. (10MB ì´í•˜, png/jpgë§Œ í—ˆìš©)');\r\n      }\r\n    }\r\n  },\r\n    editImage(index) {\r\n      const fileInputs = this.$refs.fileInputs; // ëª¨ë“  íŒŒì¼ ì…ë ¥ ìš”ì†Œ ë°°ì—´\r\n      if (fileInputs && fileInputs[index]) {\r\n        fileInputs[index].click(); // ì„ íƒí•œ ì…ë ¥ ìš”ì†Œ í´ë¦­\r\n      } else {\r\n        console.error(`File input not found for index ${index}`);\r\n      }\r\n    }\r\n    ,\r\n    editImage(index) {\r\n      this.$refs[`fileInput${index}`][0].click();\r\n    },\r\n\r\n    // ì´ë¯¸ì§€ ìˆ˜ì •\r\n    onImageChange(index, event) {\r\n      if (!event || !event.target || !event.target.files) {\r\n        console.error('Invalid event object:', event);\r\n        return;\r\n      }\r\n\r\n      const file = event.target.files[0];\r\n      if (!file) return;\r\n\r\n      const validExtensions = ['png', 'jpg', 'jpeg', 'gif', 'bmp', 'webp', 'tiff'];\r\n      const fileExtension = file.name.split('.').pop().toLowerCase();\r\n      const maxFileSize = 10 * 1024 * 1024;\r\n\r\n      if (validExtensions.includes(fileExtension) && file.size <= maxFileSize) {\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          this.images[index] = { ...this.images[index], src: e.target.result, file };\r\n        };\r\n        reader.readAsDataURL(file);\r\n      } else {\r\n        alert('íŒŒì¼ í˜•ì‹ì´ ë§ì§€ ì•Šê±°ë‚˜ í¬ê¸°ê°€ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤. (10MB ì´í•˜, png/jpgë§Œ í—ˆìš©)');\r\n      }\r\n    },\r\n    async submitNotice() {\r\n\r\n\r\n      const maxTitleLength = 200;\r\n      const maxContentLength = 3000;\r\n\r\n      \r\n      if (this.notice.noticeTitle.length > maxTitleLength) {\r\n        alert(`ê³µì§€ì‚¬í•­ ì œëª©ì€ ìµœëŒ€ ${maxTitleLength}ìê¹Œì§€ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.`);\r\n        return;\r\n      }\r\n\r\n      if (this.notice.noticeContent.length > maxContentLength) {\r\n        alert(`ê³µì§€ì‚¬í•­ ë‚´ìš©ì€ ìµœëŒ€ ${maxContentLength}ìê¹Œì§€ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.`);\r\n        return;\r\n      }\r\n\r\n      try {\r\n\r\n        const form = new FormData();\r\n        const noticeData = {\r\n          noticeTitle: this.notice.noticeTitle,\r\n          noticeContent: this.notice.noticeContent\r\n              .replace(/ /g, '&nbsp;')\r\n              .replace(/\\n/g, '<br>'),\r\n          photoOrders: this.images.length > 0 ? this.images.map((_, index) => index + 1) : [],\r\n        };\r\n\r\n        form.append('request', new Blob([JSON.stringify(noticeData)], { type: 'application/json' }));\r\n\r\n        if (this.images.length > 0) {\r\n          this.images.forEach((image, i) => {\r\n            console.log(`(${i + 1}/${this.images.length})`);\r\n            form.append('photos', image.file);\r\n          });\r\n        }\r\n\r\n\r\n\r\n        const response = await axios.post(`${store.state.apiBaseUrl}/notices`, form, {\r\n          headers: {\r\n            Authorization: `Bearer ${store.state.accessToken}`,\r\n            'Content-Type': 'multipart/form-data',\r\n          },\r\n        });\r\n\r\n\r\n\r\n        if (!response || !response.data) {\r\n          console.error('ì‘ë‹µ ë°ì´í„° ì—†ìŒ');\r\n          alert('ê³µì§€ì‚¬í•­ ì œì¶œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');\r\n          return;\r\n        }\r\n\r\n        // ì„œë²„ ì‘ë‹µ ìƒíƒœ ì½”ë“œ í™•ì¸\r\n        if ([401, 400, 422].includes(response.status)) {\r\n          let message = '';\r\n\r\n          if (response.status === 401) {\r\n            message = 'ì¸ì¦ë˜ì§€ ì•Šì€ ì‚¬ìš©ìì…ë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.';\r\n            this.$router.push({ name: 'Login' }); // 401 ì—ëŸ¬ ì‹œ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™\r\n          } else if (response.status === 400) {\r\n            message = 'ì—…ë¡œë“œ ê°€ëŠ¥í•œ ì‚¬ì§„ ê°¯ìˆ˜ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤.';\r\n          } else if (response.status === 422) {\r\n            message = 'ì œëª©ê³¼ ë‚´ìš©ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.';\r\n          }\r\n\r\n          alert(message);\r\n          return;\r\n        }\r\n\r\n\r\n        const presignedUrls = response?.data?.data || [];\r\n\r\n        // âœ… ë§Œì•½ Presigned URLì´ ì—†ìœ¼ë©´ ë°”ë¡œ ê³µì§€ì‚¬í•­ ëª©ë¡ìœ¼ë¡œ ì´ë™\r\n        if (!Array.isArray(presignedUrls) || presignedUrls.length === 0) {\r\n\r\n          alert(\"ê³µì§€ì‚¬í•­ì´ ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.\");\r\n          this.$router.push({ name: 'Notice' });\r\n          return;\r\n        }\r\n\r\n\r\n\r\n        // âœ… Presigned URLì´ ìˆì„ ê²½ìš°ì—ë§Œ S3 ì—…ë¡œë“œ ì‹¤í–‰\r\n        await Promise.all(\r\n            presignedUrls.map(async (url, index) => {\r\n              const file = this.images[index].file;\r\n\r\n              await axios.put(url, file, {\r\n                headers: { 'Content-Type': file.type },\r\n              });\r\n            })\r\n        );\r\n\r\n\r\n        alert(\"ê³µì§€ì‚¬í•­ì´ ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.\");\r\n\r\n        // âœ… ê³µì§€ì‚¬í•­ ëª©ë¡ í˜ì´ì§€ë¡œ ì´ë™\r\n        this.$router.push({ name: 'Notice' });\r\n\r\n      } catch (error) {\r\n        // 401 ì—ëŸ¬ ì²˜ë¦¬\r\n        if (error.response && error.response.status === 401) {\r\n          this.show401Popup = true;\r\n          return;\r\n        }\r\n      \r\n  if (error.response && error.response.status === 400) {\r\n    const additionalData = error.response.data.additionalData;\r\n    \r\n    if (additionalData.noticeTitle) {\r\n      alert(additionalData.noticeTitle); // ê³µì§€ì‚¬í•­ ì œëª©ì´ ë¹„ì–´ ìˆì„ ë•Œ\r\n    }\r\n    \r\n    if (additionalData.noticeContent) {\r\n      alert(additionalData.noticeContent); // ê³µì§€ì‚¬í•­ ë‚´ìš©ì´ ë¹„ì–´ ìˆì„ ë•Œ\r\n    }\r\n    \r\n    return;\r\n  }\r\n  \r\n\r\n        // ë‹¤ë¥¸ ì—ëŸ¬ ì²˜ë¦¬\r\n        console.error('ê³µì§€ì‚¬í•­ ì œì¶œ ì‹¤íŒ¨:', error.response || error.message);\r\n        alert('ê³µì§€ì‚¬í•­ ì œì¶œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');\r\n      }\r\n    }\r\n  },\r\n\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.notice-write-container {\r\n  width: 100%;\r\n  min-width: 900px;\r\n  margin: 0 auto;\r\n  padding: 10px;\r\n}\r\n\r\n.title {\r\n  color: #000000;\r\n  font-size: 25px;\r\n  font-weight: bold;\r\n  margin-bottom: 0px;\r\n  margin-top: -20px;\r\n  position: relative; /* ìƒëŒ€ ìœ„ì¹˜ ì„¤ì • */\r\n  display: inline-block;\r\n  z-index: 1; /* í…ìŠ¤íŠ¸ê°€ ë°°ê²½ìƒ‰ ìœ„ì— ì˜¤ë„ë¡ ì„¤ì • */\r\n}\r\n\r\n.label {\r\n  font-size: 18px; /* ê¸€ì”¨ í¬ê¸°ë¥¼ 20pxë¡œ ë³€ê²½ */\r\n  /*  í•„ìš” ì‹œ êµµê²Œ í‘œì‹œ */\r\n  color: #000000; /* í•„ìš” ì‹œ ìƒ‰ìƒ ë³€ê²½ */\r\n}\r\n\r\n.title::after {\r\n  content: '';\r\n  position: absolute;\r\n  left: 0;\r\n  bottom: 2px; /* í…ìŠ¤íŠ¸ ì•„ë˜ìª½ ìœ„ì¹˜ ì¡°ì • */\r\n  width: 102.5%;\r\n\r\n; /* ë…¸ë€ìƒ‰ ë°°ê²½ */\r\n  z-index: -1; /* í…ìŠ¤íŠ¸ ë’¤ì— ìœ„ì¹˜í•˜ë„ë¡ ì„¤ì • */\r\n  transform: skew(-12deg); /* ê¸°ìš¸ê¸° íš¨ê³¼ ì¶”ê°€ */\r\n}\r\n\r\n.character-count {\r\n  text-align: right; /* ê¸€ì ìˆ˜ ìš°ì¸¡ ì •ë ¬ */\r\n  font-size: 14px; /* ê¸€ì í¬ê¸° */\r\n  color: #666; /* ê¸€ì ìƒ‰ìƒ */\r\n  margin-top: 5px; /* ìœ„ìª½ ì—¬ë°± */\r\n}\r\n\r\n* {\r\n  box-sizing: border-box;\r\n}\r\n\r\n.title-container{\r\n  margin-top:30px ;\r\n}\r\n\r\n.content-container\r\n{\r\n  margin-top: 25px; /* ë‚´ìš© ì…ë ¥ í•„ë“œ ìœ„ ì—¬ë°± ì¶”ê°€ */\r\n}\r\n\r\n.image-upload-container {\r\n  display: flex;\r\n  align-items: center;\r\n  width: 866px;\r\n  height: 153.96px;\r\n  background-color: white;\r\n  padding: 15px;\r\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);\r\n  border-radius: 5px;\r\n\r\n  margin-top: 25px;\r\n}\r\n\r\n.label {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n  font-weight: bold;\r\n}\r\n\r\n.title-input {\r\n  margin-top: 10px; /* ìœ„ ìš”ì†Œì™€ ê°„ê²© */\r\n  width: 100%; /* ì…ë ¥ì°½ í¬ê¸° */\r\n  padding: 10px; /* ë‚´ë¶€ ì—¬ë°± */\r\n  font-size: 16px; /* ì…ë ¥ì°½ ê¸€ì”¨ í¬ê¸° */\r\n  border: 1px solid #ddd; /* í…Œë‘ë¦¬ */\r\n  border-radius: 5px; /* ëª¨ì„œë¦¬ ë‘¥ê¸€ê¸° */\r\n}\r\n\r\n\r\n/* í…ìŠ¤íŠ¸ ì˜ì—­ wrapper ìŠ¤íƒ€ì¼ */\r\n.textarea-wrapper {\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 100%;\r\n}\r\n\r\n/* ê¸€ì ìˆ˜ ì¹´ìš´í„° ìŠ¤íƒ€ì¼ */\r\n.character-count {\r\n  position: absolute;\r\n  bottom: 10px; /* textarea ë‚´ë¶€ì—ì„œ ì•„ë˜ìª½ ì—¬ë°± */\r\n  right: 15px; /* textarea ë‚´ë¶€ì—ì„œ ì˜¤ë¥¸ìª½ ì—¬ë°± */\r\n  font-size: 12px;\r\n  color: #999;\r\n  pointer-events: none; /* í´ë¦­ ë¶ˆê°€ ì„¤ì • */\r\n}\r\n\r\n.content-input {\r\n  width: 100%;\r\n  height: 382px;\r\n  padding: 10px;\r\n  font-size: 16px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n  resize: none;\r\n  position: relative; /* ì¹´ìš´í„° ìœ„ì¹˜ ì¡°ì •ì„ ìœ„í•´ relative ì„¤ì • */\r\n}\r\n\r\n.image-upload-container {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  width: 100%;\r\n  height: 153.96px;\r\n  background-color: white;\r\n  padding: 10px;\r\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);\r\n  border-radius: 5px;\r\n}\r\n\r\n.image-preview {\r\n  position: relative;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n  width: 142px; /* ì´ë¯¸ì§€ ì—…ë¡œë“œ í›„ì—ë„ ë„ˆë¹„ë¥¼ 142pxë¡œ ê³ ì • */\r\n  height: 95.88px; /* ì´ë¯¸ì§€ ì—…ë¡œë“œ í›„ì—ë„ ë†’ì´ë¥¼ 95.88pxë¡œ ê³ ì • */\r\n  flex: 0 0 auto;\r\n  background-color: #ECECEC;\r\n  margin-left: 7px;\r\n}\r\n\r\n.uploaded-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  background: #ECECEC;\r\n\r\n}\r\n\r\n.edit-icon {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  width: 30px;\r\n  height: 30px;\r\n  filter: invert(100%);\r\n  cursor: pointer;\r\n}\r\n\r\n.edit-icon img {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.image-upload {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 138px;\r\n  height: 92px;\r\n  border: 2px solid #ddd;\r\n  background: #ececec;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  flex: 0 0 auto;\r\n  margin-left: 7px;\r\n}\r\n\r\n.image-upload input {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  opacity: 0;\r\n  cursor: pointer;\r\n}\r\n\r\n.image-upload span { /* X */\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 14px; /* í”ŒëŸ¬ìŠ¤ ê¸°í˜¸ í¬ê¸° */\r\n  color: #515151; /* í”ŒëŸ¬ìŠ¤ ê¸°í˜¸ ìƒ‰ìƒ */\r\n  font-weight: bold;\r\n  width: 22px; /* ë™ê·¸ë¼ë¯¸ í¬ê¸° */\r\n  height: 22px;\r\n  background-color: white; /* í°ìƒ‰ ë°°ê²½ */\r\n  border-radius: 50%; /* ì›í˜• */\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* ê·¸ë¦¼ì íš¨ê³¼ */\r\n}\r\n\r\n\r\n.plus {\r\n  position: absolute;\r\n  display: flex;\r\n  background: hsla(0,0%,100%,.7);\r\n  border-radius: 50%;\r\n  width: 25px;\r\n  height: 25px;\r\n  justify-content: center;\r\n  font-size: 20px;\r\n  font-weight: 900;\r\n  color: #696969;\r\n  border: 2px solid #ddd;\r\n  box-shadow: 0 0 1px rgba(0,0,0,.1);\r\n  align-items: center;\r\n}\r\n\r\n.submit-button {\r\n  display: block;\r\n  width: 102.5px;\r\n  height: 45px;\r\n  padding: 10px;\r\n  margin: 20px 0 20px auto;\r\n  background-color: #FFB052;\r\n  border: none;\r\n  border-radius: 5px;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: white;\r\n  cursor: pointer;\r\n  text-align: center;\r\n}\r\n\r\n.title-input::placeholder,\r\n.content-input::placeholder,\r\n.image-upload input::placeholder {\r\n  font-family: Pretendard;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  line-height: 14px;\r\n  letter-spacing: -0.025em;\r\n  text-align: left;\r\n  text-underline-position: from-font;\r\n  text-decoration-skip-ink: none;\r\n}\r\n\r\n.delete-icon {\r\n  position: absolute;\r\n  top: 0px;\r\n  right: 0px;\r\n  font-size: 24px;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  border-radius: 50%;\r\n  width: 30px;\r\n  height: 30px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  line-height: 30px;\r\n}\r\n\r\n</style>","import { render } from \"./NoticeWrite.vue?vue&type=template&id=48945014&scoped=true\"\nimport script from \"./NoticeWrite.vue?vue&type=script&lang=js\"\nexport * from \"./NoticeWrite.vue?vue&type=script&lang=js\"\n\nimport \"./NoticeWrite.vue?vue&type=style&index=0&id=48945014&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-48945014\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_1","$data","notice","_createElementBlock","_hoisted_2","_hoisted_3","for","id","noticeTitle","$event","placeholder","_hoisted_4","_hoisted_5","noticeContent","onInput","_cache","args","_ctx","limitContentLength","_hoisted_6","_toDisplayString","length","_hoisted_7","_Fragment","_renderList","images","image","index","key","src","alt","onClick","$options","editImage","_imports_0","deleteImage","_hoisted_10","type","ref","onChange","onImageChange","style","_hoisted_12","onImageUpload","target","previousElementSibling","click","submitNotice","disabled","isLoading","_hoisted_13","show401Popup","_createBlock","_component_Popup401","name","components","Popup401","props","data","methods","this","splice","$refs","handle401Error","error","response","status","event","file","files","validExtensions","fileExtension","split","pop","toLowerCase","maxFileSize","includes","size","reader","FileReader","onload","e","push","result","value","readAsDataURL","alert","fileInputs","console","maxTitleLength","maxContentLength","form","FormData","noticeData","replace","photoOrders","map","_","append","Blob","JSON","stringify","forEach","i","log","axios","post","store","state","apiBaseUrl","headers","Authorization","accessToken","message","$router","presignedUrls","Array","isArray","Promise","all","async","url","put","additionalData","__exports__","render"],"sourceRoot":""}